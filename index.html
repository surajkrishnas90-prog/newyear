<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ACCESSING 2025…</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:monospace}
body{background:#000;color:#00ffcc;overflow:hidden}
.stage{display:none;width:100vw;height:100vh;align-items:center;justify-content:center;text-align:center;padding:20px}
.active{display:flex}
button,input{
  background:#000;color:#00ffcc;border:1px solid #00ffcc;
  padding:12px 18px;margin:10px;font-size:16px
}
button:hover{background:#00ffcc;color:#000;cursor:pointer}
#glitchBox{
  position:absolute;
  border:1px solid #00ffcc;
  padding:20px;
  animation:glitch 0.2s infinite;
  text-shadow:2px 0 red,-2px 0 cyan;
}
@keyframes glitch{
  0%{transform:translate(0)}
  50%{transform:translate(3px,-3px)}
  100%{transform:translate(0)}
}
.story p{margin:18px;font-size:22px;opacity:.85}
.white{background:#fff}
#error{animation:shake .2s infinite}
@keyframes shake{
  0%{transform:translate(0)}
  50%{transform:translate(10px)}
  100%{transform:translate(0)}
}
#snow img{
  position:absolute;
  width:min(80px,20vw);
  animation:fall linear infinite;
  opacity:.9;
}
@keyframes fall{
  from{top:-100px}
  to{top:110vh}
}
.fadeBlack{animation:fade 3s forwards}
@keyframes fade{to{background:#000;color:#000}}
</style>
</head>

<body>

<!-- STAGE 1 -->
<div id="stage1" class="stage active">
  <div id="glitchBox">⚠ TRUST ME<br>CLICK HERE</div>
</div>

<!-- STAGE 2 STORY -->
<div id="stage2" class="stage">
  <div class="story">
    <p>2024 wasn’t kind.</p>
    <p>Lost some friends.</p>
    <p>Gained silence.</p>
    <p>Learned who stayed.</p>
    <p>Learned who mattered.</p>
    <p>Still standing.</p>
    <button onclick="endHere()">END HERE</button>
    <button onclick="goQuestion()">PROCEED</button>
  </div>
</div>

<!-- WHITE END -->
<div id="whiteEnd" class="stage white"></div>

<!-- STAGE 4 QUESTION -->
<div id="stage4" class="stage">
  <div>
    <p>Answer this to continue</p>
    <p>What year are we entering?</p>
    <input id="answer">
    <button onclick="checkAnswer()">SUBMIT</button>
  </div>
</div>

<!-- STAGE 5 PHOTO RAIN -->
<div id="stage5" class="stage">
  <div id="snow"></div>
</div>

<!-- STAGE 6 NAME -->
<div id="stage6" class="stage">
  <div>
    <p>Identify yourself</p>
    <input id="nameInput" placeholder="Enter name">
    <button onclick="submitName()">ENTER</button>
  </div>
</div>

<!-- STAGE 7 FINAL -->
<div id="stage7" class="stage">
  <h1 id="finalText"></h1>
</div>

<!-- GOOGLE FORM (LOGGING) -->
<form id="logForm"
action="https://docs.google.com/forms/d/e/FORM_ID_HERE/formResponse"
method="POST" target="hidden_iframe">
<input name="entry.ENTRY_ID_HERE" id="logName">
</form>
<iframe name="hidden_iframe" style="display:none"></iframe>

<script>
const stages=document.querySelectorAll(".stage");
const glitch=document.getElementById("glitchBox");

function show(id){
  stages.forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* glitch button stays 0.7 sec */
setInterval(()=>{
  glitch.style.top=Math.random()*80+"vh";
  glitch.style.left=Math.random()*80+"vw";
  glitch.style.opacity=Math.random();
},700);

glitch.onclick=()=>show("stage2");

function endHere(){show("whiteEnd")}
function goQuestion(){show("stage4")}

function checkAnswer(){
  if(document.getElementById("answer").value.trim()=="2025"){
    show("stage6");
  }else{
    document.body.id="error";
    alert("ACCESS DENIED");
    setTimeout(()=>location.reload(),1500);
  }
}

/* NAME → PHOTOS (USING YOUR FILES) */
const people={
  "suraj":[
    "me1.jpeg","me2.jpeg","me3.jpeg","me4.jpeg","me5.jpeg","me6.jpeg",
    "me7.jpeg","me8.jpeg","me9.jpeg","me10.jpeg","me11.jpeg","me12.jpeg"
  ],
  "anu":["anu.jpeg"],
  "arjun":["arjun.jpeg"],
  "amal":["amal.jpeg"],
  "akash":["akash.jpeg"],
  "rahul":["rahul.jpeg"],
  "sree":["sree.jpeg"],
  "nibin":["nibin.jpeg"]
};

function startSnow(arr){
  if(!arr) return;
  const snow=document.getElementById("snow");
  setInterval(()=>{
    const img=document.createElement("img");
    img.loading="lazy";
    img.src=arr[Math.floor(Math.random()*arr.length)];
    img.style.left=Math.random()*100+"vw";
    img.style.animationDuration=5+Math.random()*5+"s";
    snow.appendChild(img);
    setTimeout(()=>img.remove(),10000);
  },300);
}

function submitName(){
  const name=document.getElementById("nameInput").value.toLowerCase().trim();

  /* log EVERY name */
  document.getElementById("logName").value=name;
  document.getElementById("logForm").submit();

  show("stage5");
  startSnow(people[name]);

  show("stage7");
  document.getElementById("finalText").innerText =
    name in people ? `HAPPY NEW YEAR ${name.toUpperCase()}` : "ACCESS LIMITED";

  setTimeout(()=>{
    document.body.classList.add("fadeBlack");
    document.body.innerHTML="";
  },6000);
}
</script>

</body>
</html>
